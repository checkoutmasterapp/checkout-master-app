extends ../../layouts/backend_layout

block header_breadcrumb
    nav
        ol.breadcrumb
            li.breadcrumb-item Home
            li.breadcrumb-item.active Cart Recovery

block content 
    main#main.main
        section.section.cart-recovery-performance.section.profile
            div.row
                div.col-xl-8  
                    h4 Cart Recovery Performance    
                div.col-xl-4 
                    .calendar.float-end(style="display: flex;") 
                        label.degin-labl From
                            svg.ms-1.celender(xmlns='http://www.w3.org/2000/svg' viewBox='0 0 448 512')
                                path(d='M152 24c0-13.3-10.7-24-24-24s-24 10.7-24 24V64H64C28.7 64 0 92.7 0 128v16 48V448c0 35.3 28.7 64 64 64H384c35.3 0 64-28.7 64-64V192 144 128c0-35.3-28.7-64-64-64H344V24c0-13.3-10.7-24-24-24s-24 10.7-24 24V64H152V24zM48 192h80v56H48V192zm0 104h80v64H48V296zm128 0h96v64H176V296zm144 0h80v64H320V296zm80-48H320V192h80v56zm0 160v40c0 8.8-7.2 16-16 16H320V408h80zm-128 0v56H176V408h96zm-144 0v56H64c-8.8 0-16-7.2-16-16V408h80zM272 248H176V192h96v56z')  
                            input.border-0.lab-date.performance_filter(type="text" name='from' id="from_date")
                        label.degin-labl.border-start-0 To
                            svg.ms-1.celender(xmlns='http://www.w3.org/2000/svg' viewBox='0 0 448 512')
                                path(d='M152 24c0-13.3-10.7-24-24-24s-24 10.7-24 24V64H64C28.7 64 0 92.7 0 128v16 48V448c0 35.3 28.7 64 64 64H384c35.3 0 64-28.7 64-64V192 144 128c0-35.3-28.7-64-64-64H344V24c0-13.3-10.7-24-24-24s-24 10.7-24 24V64H152V24zM48 192h80v56H48V192zm0 104h80v64H48V296zm128 0h96v64H176V296zm144 0h80v64H320V296zm80-48H320V192h80v56zm0 160v40c0 8.8-7.2 16-16 16H320V408h80zm-128 0v56H176V408h96zm-144 0v56H64c-8.8 0-16-7.2-16-16V408h80zM272 248H176V192h96v56z')
                            input.border-0.lab-date.performance_filter(type="text" name='to' id="to_date" )

                    .float-end.performance_filter_error.error    

            div.container.cart-performance-container.mt-3
                div.row
                    div.col
                        div.card.persnt
                            div.card-body.p-0
                                div
                                    div.d-flex.align-items-center.justify-content-center
                                        h1#sent_time  #{sent_time || '0'}
                                    div.ps-3
                                        p.text-center TIME SENT
                    div.col
                        div.card.persnt
                            div.card-body.p-0
                                div
                                    div.d-flex.align-items-center.justify-content-center
                                        h1#time_clicked #{time_clicked || '0'}
                                    div.ps-3
                                        p.text-center TIME CLICKED
                    div.col
                        div.card.persnt
                            div.card-body.p-0
                                div
                                    div.d-flex.align-items-center.justify-content-center
                                        h1#purchased_time #{purchased_time || '0'}
                                    div.ps-3
                                        p.text-center TIME PURCHASED
                    div.col
                        div.card.persnt
                            div.card-body.p-0
                                div
                                    div.d-flex.align-items-center.justify-content-center
                                        h1#purchased_amount $#{purchased_amount ? purchased_amount :'0.00'}
                                    div.ps-3
                                        p.text-center AMOUNT PURCHASED

            section.section.edit-cart-recovery
                form#edit_cart_recovery.row(method="post")
                    input.form-control( type= 'hidden', name= "store_id", value= store_id)
                    input.form-control( type= 'hidden', name= "id", value= cart_recovery ? cart_recovery.id:'')

                    div.row
                        div.col-lg-6
                            div.add-shipping-rate-card.d-flex.flex-column.card_lef
                                h2 Edit cart recovery email  
                                h6 Leaving any field blank will load a default text based  on your language.
                                div.col-12.d-flex
                                    button.btn.btn-primary.me-4.delete_cart_recovery_email(type="button"  id = `${cart_recovery ? cart_recovery.id:''}` store_id = `${store_id}` ) Delete Email
                                    button.btn.btn-primary.me-4(type="submit") Save Email
                        div.col-lg-6
                            div.card
                                div.card-body.pt-3
                                    div.tab-content.fi_tb
                                        div.form-group.py-2
                                            p.label-write Schedule after
                                            select.form-select(name="cart_recovery_schedule_time")
                                                option(
                                                    value="10_mins"
                                                    selected=(cart_recovery && cart_recovery.cart_recovery_schedule_time=="10_mins"?true:false)
                                                ) Schedule after: 10 Mins 
                                                option(
                                                    value="one_hour"
                                                    selected=(cart_recovery && cart_recovery.cart_recovery_schedule_time=="one_hour"?true:false)
                                                ) Schedule after: One hour  

                                                option(
                                                    value="three_hours"
                                                    selected=(cart_recovery && cart_recovery.cart_recovery_schedule_time=="three_hours"?true:false)

                                                ) Schedule after: Three hours
                                                option(
                                                    value="five_hours"
                                                    selected=(cart_recovery && cart_recovery.cart_recovery_schedule_time=="five_hours"?true:false)
                                                ) Schedule after: Five hours
                                                option(
                                                    value="eight_hours"
                                                    selected=(cart_recovery && cart_recovery.cart_recovery_schedule_time=="eight_hours"?true:false)
                                                ) Schedule after: Eight hours
                                                option(
                                                    value="tweleve_hours"
                                                    selected=(cart_recovery && cart_recovery.cart_recovery_schedule_time=="tweleve_hours"?true:false)
                                                ) Schedule after: Tweleve hours
                                                option(
                                                    value="one_day"
                                                    selected=(cart_recovery && cart_recovery.cart_recovery_schedule_time=="one_day"?true:false)
                                                ) Schedule after: One day
                                                option(
                                                    value="two_days"
                                                    selected=(cart_recovery && cart_recovery.cart_recovery_schedule_time=="two_days"?true:false)
                                                ) Schedule after: Two days
                                                option(
                                                    value="three_days"
                                                    selected=(cart_recovery && cart_recovery.cart_recovery_schedule_time=="three_days"?true:false)
                                                ) Schedule after: Three days
                                                option(
                                                    value="five_days"
                                                    selected=(cart_recovery && cart_recovery.cart_recovery_schedule_time=="five_days"?true:false)
                                                ) Schedule after: Five days

                                        div.form-group.py-2    
                                            p.label-write Email Subject
                                            input.form-control(
                                                type='text'
                                                placeholder="Email Subject"
                                                name="cart_recovery_email_subject"
                                                value = cart_recovery ? cart_recovery.cart_recovery_email_subject:''
                                            )

                                        div.form-group.py-2    
                                            p.label-write Email Title
                                            input.form-control(
                                                type="text"
                                                placeholder="Email Title"
                                                name="cart_recovery_email_title"
                                                value = cart_recovery ? cart_recovery.cart_recovery_email_title:''
                                            )


                                        div.form-group.py-2  
                                            p.label-write Email Body
                                            textarea.form-control(
                                                type='text' 
                                                cols="30" rows="10"
                                                placeholder="Email Body"
                                                name="cart_recovery_email_body"
                                            ) #{cart_recovery ? cart_recovery.cart_recovery_email_body:''}

                                            small.form-text.text-muted Use simple HTML for this. You can use {first_name} to display the name of the customer.

                                        div.form-group.py-2  
                                            p.label-write Call to Action Button Title
                                            input.input-edit.form-control(
                                                type="text"
                                                placeholder="Call to Action Button Title"
                                                name="cart_recovery_action_button_title"
                                                value = cart_recovery ? cart_recovery.cart_recovery_action_button_title:''
                                            )

                                        div.form-group.py-2 
                                            p.label-write Footer Text   
                                            input.form-control(
                                                type="text"
                                                placeholder="Footer Text"
                                                name="cart_recovery_footer_text"
                                                value = cart_recovery ? cart_recovery.cart_recovery_footer_text:''
                                            )



block scripts
    script.
        var store_id = `!{store_id}`;

    script(type='text/javascript' src='/assets/js/custom/cart_recovery.js')